# 190910 Stat by 재명

## 복습 (진단테스트)
* 술 -> 숙취
  - 술 : 독립변수, 숙취 : 종속변수, 저녁 메누 : 혼입변수  
  - 독립변수, 종속변수를 제외한 변수는 모두 외생변수
  - 외생변수 중 종속변수에 영향을 줄 수 있는 변수는 <b>혼입변수(Comfound)</b>  

* 실험은 개입이 있어야 함
  - 날씨에 따른 수업의 출석률의 차이 -> 날씨를 조절할 수 없음 / 실험 X
  - 아침에 일어났을 때 느낀 수면의 질 측정, 수업 집중도와의 관계 -> 조작이 들어가지 않음 / 실험 X
  - 버티컬 마우스와 일반 마우스를 쓰는 사람들을 모아 손목 건강과의 관계 -> 이미 사용하는 사용자 / 실험 X
  - 사람들에게 무작위로 다른 커피를 마시게 하고 신체 반응 측정 -> 의도적인 개입 / 실험 O

* 실험 설계에 대한 설명
  - between subject 
  - within subject : 같은 참여자가 모든 조건에 참여하는 것

* 실험과 부트스트래핑
  * 실험 : 무작위 -> 조건을 달리 -> 결과
  * 부트스트래핑 : 무작위 부트스트랩핑(시뮬레이션) -> 결과 

* 부트스트래핑
  * 두 집단의 평균 차이를 검정하기 위해 부트스트래핑 할 때는 두 집단이 원래 같다고 가정한다
  * 두 집단의 평균 차이를 검정하기 위해 부트스트래핑 할 때는 집단을 무시하고 데이터를 섞은 후, 2개의 샘플을 리샘플링으로 뽑는다
  -> 두 집단이 같다고 가정하기 때문에 두 집단을 섞어서 resampling을 두 번
  -> 원래는 두 번 resampling을 하는 것인데 코드를 짤 떄는 한 번 resampling하고 반으로 나눔 / 결과는 같음, 개념만 알아두기;
  * 두 개의 샘플의 차이를 보는 것 (C-D)

* 두 집단이 다르다고 결론을 내리려면, 실험을 통해 관찰된 두 집단의 차이가 부트스트래핑을 통해 알아낸 신뢰구간의 범위 밖에 있어야 한다. 
  * 무작위로 나오는 차이, 범위 안에 나오는 것은 이 정도는 나올 수 있다는 것
  * 그 범위를 벗어나야 차이가 있다고 볼 수 있음

* 1종오류, 2종오류 
  * 1종 오류란 두 집단에 차이가 없는데, 있다는 결론을 잘못 내리는 경우 (False Alarm)
  * 2종 오류란 두 집단에 차이가 있는데, 없다는 결론을 잘못 내리는 경우 (Miss)
  * 부트스트래핑에서 평균 차이의 95% 신뢰구간을 구했다면 신뢰수준은 95%이다 = 5% 유의수준
  * 유의수준이 5%이면 5%의 경우에는 1종 오류가 발생한다.  
  -> 유의 수준을 낮추고 싶으면 신뢰수준을 높이면 됨  
  -> 1종 오류(유의수준) 확률을 낮추면 2종 오류 확률은 높아짐
  * 신뢰수준을 높이면 2종 오류는 증가한다.
  -> 신뢰수준을 높이면 유의수준이 감소한다.
  -> 유의수준이 감소하면 1종 오류는 감소한다.
  -> 1종 오류가 감소하면 2종 오류는 증가한다.

* <b>데이터를 충분히 고문하면 놈은 불게 되어있다</b>

* 가설
  - 귀무가설(null hypothesis, H0) : 같다고 가정  
  귀무가설을 기각한다 -> 다른 결과가 나옴
  - 대립가설(H1) : 다르다고 가정

## 효과 크기 effect size
* 관찰된 현상의 크기를 나타내는 방법
* 분산을 이용하는 방법
* 평균 차이를 이용하는 방법
  - 동일한 기준의 표준편차의 차이로 측정할 수 있음

## 에타 제곱 eta squared
* 편차제곱함(SS) : 평균과 차이를 제곱해서 모두 더한 것
* 분산 = 편차제곱합 / N
* 전체 SS = (X - 전체평균)^2의 합계
* 처치 SS = (집단평균 - 전체평균)^2의 합계
* 에타 제곱 = 처치 SS / 전체 SS
* 개인 차 = 집단 간 차이 + 집단 내 차이
  * 결국 관심있는 것은 집단 간 차이임
* 에타 제곱 = 1 
  * 집단 간 차이만 있고 집단 내 차이는 없음
* 에타 제곱 = 0
  * 집단 간 차이는 없고 집단 내 차이만 있음

* 차이를 설명하기 위한 용도
  * 에타제곱 : 분산 ~% 를 설명한다
  * 코헨의d : ~ 표준편차 차이가 난다

## 설문 문항 만들기
* 한 번에 한 가지
* 응답을 수치화하기 쉽게 만들기
* 리커트 척도 : 그렇다 / 아니라를 단계로 나누어 질문
* 거트만 척도 : 답변을 약한 것에서 강한 것 순으로 늘어놓은 것 (만들기가 어려움)
* 설문 문항 간의 상관 관계
  * 대부분의 경우 하나의 개념(ex.고객 만족도)은 직접 측정 X
  * 여러 문항을 통해 간접적으로 측정됨
  * 하나의 개념을 측정하는 문항들 사이에는 상관관계
  * 진점수 이론 (The score Theory)
    * 설문과 실제 값 사이에는 오차가 존재
    * 같은 문항에 대해 조금씩 말을 바꿔가면서 질문 (오차 합계 = 0) -> 오차를 줄이는 방법
    
## 설문지 만들어보기
* 주제 : '데잇걸즈'의 만족도 / 공간, 간식 ...와 집중도 / 내향, 외향 테스트 / 연애 성향 테스트 / <b>자존감</b> / 10대 미디어 리터러시
  * 주제를 너무 좁게 만들면 항목을 만들기 쉽지 않음 -> 주제를 좀 더 포괄적으로 잡기
* 성격 형용사 : OCEAN / 개방, 성실, 외향, 순응, 신경
* 능력을 측정하는 방법?, 자신을 과대평가하는 경향
* 설문문항 (심리척도 핸드북 by고려대 참고하기)
  - 자신의 자존감이 높다고 생각한다.
  - 나는 다른 사람에게 좋은 사람이다. 
  - 나는 다른 사람과 비교를 많이 한다. 
  - 나는 내가 나인게 좋다. 
  - 나는 내가 자랑스럽다.

## MAB (Multi-Armed Bandit)
* 슬롯머신이 여러 개 있을 때 슬롯머신마다 '터지는' 비율이 다름. 
어떤 슬롯머신을 '당길' 것인가?
* 탐색(exploration) : 기존과 다른 시도
* 활용(exploitation) : 기존의 방법을 계속
* 탐욕법 (Greedy algorithm) : 가장 가치가 높은 행동만 한다 (활용 중심)
  - 일정 비율(e)만큼은 탐색
  - epsilon-first : 처음에 e만큼은 탐색을 하고 이후로는 활용
  - epsilon-greedy : 매번 e의 확률로 탐색, 그렇지 않으면 활용
  - 입실론 퍼스트의 문제점 
    - 충분히 탐색을 하지 못할 가능성
    - 시간에 따라 변화하는 상황에 대응하지 못함
* 낙관적 초기화
  - 새로운 옵션에 초기값 많이
  - 새로운 옵션에 기회값 많이
  - 결국 실제 데이터
* e : 얼마나 실험을 할거냐
* a : 트렌드를 얼마나 따라갈거냐
* 톰슨 샘플링 (Thompson Sampling)
