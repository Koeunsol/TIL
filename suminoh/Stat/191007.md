# 191007 Stat

## 생존분석

### 생존분석
- 특정 사건까지 걸리는 기간을 분석
- 보험 업계와 의학계에서 발전
- 센서링(Cencoring)
    - 조사기간 밖에서 죽는 경우
    - right censoring : 조사 기간 이후 언젠가에 죽는 경우
    - Left censoring : 조사 기간 이전 언젠가에 죽는 경우
    - Left trncation : 조사 이전에 죽어서 조사에 포함도 안되는 경우
    - Interval censoring : 두 관찰 시점 사이 언젠가에 죽은 경우

### 생존함수
- 시점 t까지 살아남을(죽지 않을) 확률
- S(t) = (T > t)
- T : 죽는 시점

### 카플란 마이어 추정치
- 보험, 의학에서 발전 
- 중간에 빠져나가는 데이터가 많음
- 추적이 불가능한 상황 -> 추정
- 추적이 불가능한 상황을 같다고 가정하여 추정함

### 위험 함수
- 시점 t에 죽을 확률
- 생존함수는 시점 t까지 생존할 확률인 반면 위험함수는 시점 t에 죽을 확률
- S(t) = .5 -> t까지 50%가 살아남는다.
- h(t) = .5 -> 시점 t에 그때까지 살아있던 사람 중에 50%가 죽는다
- 위험 함수를 알면 생존 함수를 알 수 있다. 

### 누적 위험 함수


### 지수모형
- 일정하다고 가정하는 것
- 그래프도 일정하게, 매끄럽게 이어짐

### 베이불 모형
- 지수모형보다는 더 다양한 형태를 나타낼 수 있음

### plot
- 모형마다 plot을 실행했을때 나오는 함수가 다름
- 지수모형, 베이불 모형 -> plot = 위험 누적함수(plot_cumulative_hazard)
- KM -> 생존함수 (plot_survival_function)

## 생존 회귀
- 위험을 종속변수로 회귀 분석

### 콕스 모형 / 콕스 회귀
- 기본 모형을 추정 (베이불을 많이 사용)(기본 커브를 찾음)

### 위험비
- 위험이 증가하는 비율
- 독립변수 x의 계수가 0.09인 경우 -> exp(0.09) = 1.10
- x가 1증가할 때마다 위험이 1.10배씩 증가
- 콕스 모형의 주요 가정 : 위험은 시간에 따라 변하지만, 위험비는 일정하다.

